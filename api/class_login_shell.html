

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Class LoginShell &mdash; CommandStation EX NetworkInterface 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/graphviz.css" type="text/css" />
  <link rel="stylesheet" href="../_static/collapsible-lists/css/tree_view.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/language_data.js"></script>
        <script src="../_static/collapsible-lists/js/CollapsibleLists.compressed.js"></script>
        <script src="../_static/collapsible-lists/js/apply-collapsible-lists.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Class MemStream" href="class_mem_stream.html" />
    <link rel="prev" title="Class HttpRequest" href="class_http_request.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home" alt="Documentation Home"> CommandStation EX NetworkInterface
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../CSNetworkInterface.html">The CommandStation EX NetworkInterface</a></li>
<li class="toctree-l1"><a class="reference internal" href="../FlashESP.html">How to flash your ESP for the right AT commandset</a></li>
<li class="toctree-l1"><a class="reference internal" href="library_root.html">NetworkInterface API</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CommandStation EX NetworkInterface</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="library_root.html">NetworkInterface API</a> &raquo;</li>
        
      <li>Class LoginShell</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/api/class_login_shell.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="class-loginshell">
<span id="exhale-class-class-login-shell"></span><h1>Class LoginShell<a class="headerlink" href="#class-loginshell" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>Defined in <a class="reference internal" href="file_src_cli_LoginShell.h.html#file-src-cli-loginshell-h"><span class="std std-ref">File LoginShell.h</span></a></p></li>
</ul>
<div class="section" id="inheritance-relationships">
<h2>Inheritance Relationships<a class="headerlink" href="#inheritance-relationships" title="Permalink to this headline">¶</a></h2>
<div class="section" id="base-type">
<h3>Base Type<a class="headerlink" href="#base-type" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">public</span> <span class="pre">Shell</span></code> (<a class="reference internal" href="class_shell.html#exhale-class-class-shell"><span class="std std-ref">Class Shell</span></a>)</p></li>
</ul>
</div>
</div>
<div class="section" id="class-documentation">
<h2>Class Documentation<a class="headerlink" href="#class-documentation" title="Permalink to this headline">¶</a></h2>
<dl class="cpp class">
<dt id="_CPPv410LoginShell">
<span id="_CPPv310LoginShell"></span><span id="_CPPv210LoginShell"></span><span id="LoginShell"></span><span class="target" id="class_login_shell"></span><em class="property">class </em><code class="sig-name descname">LoginShell</code> : <em class="property">public</em> <a class="reference internal" href="class_shell.html#_CPPv45Shell" title="Shell">Shell</a><a class="headerlink" href="#_CPPv410LoginShell" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Command-line shell access via a login shell. </p>
<p>This class provides a command-line shell with login support. The user is prompted for username and password when they connect and other commands will not be available until the correct credentials have been supplied.</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="class_shell.html#class_shell"><span class="std std-ref">Shell</span></a> </p>
</dd>
</dl>
</p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Public Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N10LoginShell10LoginShellEv">
<span id="_CPPv3N10LoginShell10LoginShellEv"></span><span id="_CPPv2N10LoginShell10LoginShellEv"></span><span id="LoginShell::LoginShell"></span><span class="target" id="class_login_shell_1a8a6e6c259bc6415eb9cfbb13980e31d4"></span><code class="sig-name descname">LoginShell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N10LoginShell10LoginShellEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Constructs a new login shell. </p>
<p>This constructor must be followed by a call to <a class="reference internal" href="class_shell.html#class_shell_1ad9acba905b6e0b661cce19d57c067990"><span class="std std-ref">begin()</span></a> to specify the underlying I/O stream. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N10LoginShellD0Ev">
<span id="_CPPv3N10LoginShellD0Ev"></span><span id="_CPPv2N10LoginShellD0Ev"></span><span id="LoginShell::~LoginShell"></span><span class="target" id="class_login_shell_1aaae466b141c9ea50870b66509402a2f9"></span><code class="sig-name descname">~LoginShell</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N10LoginShellD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Destroys this login shell. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK10LoginShell11machineNameEv">
<span id="_CPPv3NK10LoginShell11machineNameEv"></span><span id="_CPPv2NK10LoginShell11machineNameEv"></span><span id="LoginShell::machineNameC"></span><span class="target" id="class_login_shell_1ac977fd927028c6f6b86939bbc197d235"></span><em class="property">const</em> char *<code class="sig-name descname">machineName</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK10LoginShell11machineNameEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Gets the name of the machine to display in the login prompt. </p>
<p>The default value is NULL, indicating that no machine name should be shown.</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="#class_login_shell_1a951838252942c56537dc877c48d3d63e"><span class="std std-ref">setMachineName()</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N10LoginShell14setMachineNameEPKc">
<span id="_CPPv3N10LoginShell14setMachineNameEPKc"></span><span id="_CPPv2N10LoginShell14setMachineNameEPKc"></span><span id="LoginShell::setMachineName__cCP"></span><span class="target" id="class_login_shell_1a951838252942c56537dc877c48d3d63e"></span>void <code class="sig-name descname">setMachineName</code><span class="sig-paren">(</span><em class="property">const</em> char *<em>machineName</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N10LoginShell14setMachineNameEPKc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets the name of the machine to display in the login prompt. </p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="#class_login_shell_1ac977fd927028c6f6b86939bbc197d235"><span class="std std-ref">machineName()</span></a> </p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">machineName</span></code>: The machine name, or NULL for no machine name.</p></li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4NK10LoginShell21passwordCheckFunctionEv">
<span id="_CPPv3NK10LoginShell21passwordCheckFunctionEv"></span><span id="_CPPv2NK10LoginShell21passwordCheckFunctionEv"></span><span id="LoginShell::passwordCheckFunctionC"></span><span class="target" id="class_login_shell_1ad41ffe558d65094c09256db69e5ac153"></span><a class="reference internal" href="typedef__login_shell_8h_1a20b319df016a5503d88e18b7422bad2b.html#_CPPv422ShellPasswordCheckFunc" title="ShellPasswordCheckFunc">ShellPasswordCheckFunc</a> <code class="sig-name descname">passwordCheckFunction</code><span class="sig-paren">(</span><span class="sig-paren">)</span> <em class="property">const</em><a class="headerlink" href="#_CPPv4NK10LoginShell21passwordCheckFunctionEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Gets the current password checking function, or NULL if the function has not been set yet. </p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="#class_login_shell_1a68d34a52a12f36113286418c17351bd4"><span class="std std-ref">setPasswordCheckFunction()</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N10LoginShell24setPasswordCheckFunctionE22ShellPasswordCheckFunc">
<span id="_CPPv3N10LoginShell24setPasswordCheckFunctionE22ShellPasswordCheckFunc"></span><span id="_CPPv2N10LoginShell24setPasswordCheckFunctionE22ShellPasswordCheckFunc"></span><span id="LoginShell::setPasswordCheckFunction__ShellPasswordCheckFunc"></span><span class="target" id="class_login_shell_1a68d34a52a12f36113286418c17351bd4"></span>void <code class="sig-name descname">setPasswordCheckFunction</code><span class="sig-paren">(</span><a class="reference internal" href="typedef__login_shell_8h_1a20b319df016a5503d88e18b7422bad2b.html#_CPPv422ShellPasswordCheckFunc" title="ShellPasswordCheckFunc">ShellPasswordCheckFunc</a> <em>function</em><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N10LoginShell24setPasswordCheckFunctionE22ShellPasswordCheckFunc" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sets the password checking function. </p>
<p><p>If no function is set, then </p>
<a class="reference internal" href="#class_login_shell"><span class="std std-ref">LoginShell</span></a> will check for a username of “root” and a password of “arduino” (both values are case-sensitive). This is of course not very secure. Realistic applications should set a proper password checking function.<dl class="simple">
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">function</span></code>: The password checking function to set, or NULL to return to the default rules.</p></li>
</ul>
</dd>
</dl>
</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="#class_login_shell_1ad41ffe558d65094c09256db69e5ac153"><span class="std std-ref">passwordCheckFunction()</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Protected Functions</p>
<dl class="cpp function">
<dt id="_CPPv4N10LoginShell12beginSessionEv">
<span id="_CPPv3N10LoginShell12beginSessionEv"></span><span id="_CPPv2N10LoginShell12beginSessionEv"></span><span id="LoginShell::beginSession"></span><span class="target" id="class_login_shell_1a88a72760d4dc960c32e2fa4b691f9558"></span>void <code class="sig-name descname">beginSession</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N10LoginShell12beginSessionEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Begins a login session. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N10LoginShell11printPromptEv">
<span id="_CPPv3N10LoginShell11printPromptEv"></span><span id="_CPPv2N10LoginShell11printPromptEv"></span><span id="LoginShell::printPrompt"></span><span class="target" id="class_login_shell_1a6574705053f780acb8f0d8594c210524"></span>void <code class="sig-name descname">printPrompt</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N10LoginShell11printPromptEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Prints the current prompt string. </p>
</dd></dl>

<dl class="cpp function">
<dt id="_CPPv4N10LoginShell7executeEv">
<span id="_CPPv3N10LoginShell7executeEv"></span><span id="_CPPv2N10LoginShell7executeEv"></span><span id="LoginShell::execute"></span><span class="target" id="class_login_shell_1af54c5c14adac7955cf5e4f9460bd9ca5"></span>void <code class="sig-name descname">execute</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N10LoginShell7executeEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Executes the command in the buffer. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">Related</p>
<dl class="cpp function">
<dt>
<span class="target" id="class_login_shell_1adad54b04ec54d3577df4cd11944fff1d"></span><code class="sig-name descname">ShellPasswordCheckFunc</code></dt>
<dd><p>Password checking function for login shells. </p>
<p><p>The return value is reported to the application as </p>
<a class="reference internal" href="class_shell.html#class_shell_1a57a0635d19db9ecaf07bc57fad587ab7"><span class="std std-ref">Shell::userid()</span></a>, which can be used by the application to restrict the set of commands that are available to the user, or to restrict the behaviour of those commands when acting on critical resources.<dl class="simple">
<dt><strong>Return</strong></dt><dd><p>Returns zero or greater if the username and password combination is correct, negative if incorrect.</p>
</dd>
<dt><strong>Parameters</strong></dt><dd><ul class="breatheparameterlist simple">
<li><p><code class="docutils literal notranslate"><span class="pre">username</span></code>: Points to the user name that was supplied at login. </p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">password</span></code>: Points to the password that was supplied at login.</p></li>
</ul>
</dd>
</dl>
</p>
<p>Timing can be very important: the check should take the same amount of time for valid and invalid user identifiers or passwords so that an attacker cannot gain knowledge about the valid users on the system based on failed login attempts.</p>
<p><dl class="simple">
<dt><strong>See</strong></dt><dd><p><a class="reference internal" href="class_shell.html#class_shell_1a57a0635d19db9ecaf07bc57fad587ab7"><span class="std std-ref">Shell::userid()</span></a> </p>
</dd>
</dl>
</p>
</dd></dl>

</div>
</dd></dl>

</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="class_mem_stream.html" class="btn btn-neutral float-right" title="Class MemStream" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="class_http_request.html" class="btn btn-neutral float-left" title="Class HttpRequest" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, grbba

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>